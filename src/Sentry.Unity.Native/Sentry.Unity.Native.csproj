<Project Sdk="Microsoft.NET.Sdk">
  <PropertyGroup>
    <OutDir>$(PackageRuntimePath)</OutDir>
  </PropertyGroup>

  <ItemGroup>
    <ProjectReference Include="../sentry-dotnet/src/Sentry/Sentry.csproj" Private="false" />
    <ProjectReference Include="../Sentry.Unity/Sentry.Unity.csproj" Private="false" />
  </ItemGroup>

  <!-- Build Console version after the Desktop version -->
  <Target Name="BuildConsoleAssembly" AfterTargets="AfterBuild">
    <Csc
      Sources="@(Compile)"
      References="@(ReferencePath)"
      OutputAssembly="$(OutDir)Sentry.Unity.Native.Console.dll"
      DefineConstants="$(DefineConstants);SENTRY_NATIVE_STATIC"
      TargetType="library"
      EmitDebugInformation="true"
    />
  </Target>

</Project>
